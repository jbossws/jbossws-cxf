install: true
script:
  - travis-scripts/jbossws-test.sh $SERVER_VERSION $INSTALL_WFLY_MASTER $USE_NODEPLOY

language: java
jdk:
  - oraclejdk9

      # SERVER_VERSION  : the profile to use for integration tests
      # INSTALL_WFLY_MASTER : Clone and build wildfly master for use in
      #                       testing.  [NOTE: it is recommended to use
      #                       this only when org.wildfly:wildfly-dist:<VERSION>.zip
      #                       is not available.
      #           true :  clone and build wildfly master
      #           false:  allow the testsuite to the wildfly-dist.zip file
      # USE_NODEPLOY : tmp flag.  Will be removed in near future.
env:
  - SERVER_VERSION=wildfly1010 INSTALL_WFLY_MASTER=false USE_NODEPLOY=false
  - SERVER_VERSION=wildfly1000 INSTALL_WFLY_MASTER=false USE_NODEPLOY=false
  - SERVER_VERSION=wildfly1100 INSTALL_WFLY_MASTER=false USE_NODEPLOY=false
#  - SERVER_VERSION=wildfly1110 INSTALL_WFLY_MASTER=false USE_NODEPLOY=false
  - SERVER_VERSION=wildfly1200 INSTALL_WFLY_MASTER=true USE_NODEPLOY=false
  - SERVER_VERSION=wildfly1200 INSTALL_WFLY_MASTER=true USE_NODEPLOY=true

matrix:
  exclude:
    - jdk: oraclejdk9
      env: SERVER_VERSION=wildfly1010 INSTALL_WFLY_MASTER=false USE_NODEPLOY=false
    - jdk: oraclejdk9
      env: SERVER_VERSION=wildfly1000 INSTALL_WFLY_MASTER=false USE_NODEPLOY=false
    - jdk: oraclejdk9
      env: SERVER_VERSION=wildfly1100 INSTALL_WFLY_MASTER=false USE_NODEPLOY=false
    - jdk: oraclejdk9
      env: SERVER_VERSION=wildfly1110 INSTALL_WFLY_MASTER=false USE_NODEPLOY=false
    - jdk: oraclejdk8
      env: SERVER_VERSION=wildfly1200 INSTALL_WFLY_MASTER=true USE_NODEPLOY=false
    - jdk: oraclejdk8
      env: SERVER_VERSION=wildfly1200 INSTALL_WFLY_MASTER=true USE_NODEPLOY=true

cache:
 directories:
  - $HOME/.m2
addons:
  apt:
    packages:
      - oracle-java9-installer
